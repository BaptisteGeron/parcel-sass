{"mappings":"AAAA,MAAMA,IAAMC,SAASC,cAAc,iBAC7BC,OAASF,SAASC,cAAc,kBAChCE,YAAcH,SAASC,cAAc,gBAIrCG,WAAUC,UACZ,MAAMC,QAAiBC,MAAM,oDAE7B,IAAIC,QAAuBF,EAASG,OAGpC,IAAK,IAAIC,KAAWF,EAAgB,CAEhC,IAAIG,EAAgBX,SAASY,WAAWb,IAAIc,SAAS,GAEjDC,EAAOH,EAAcV,cAAc,wBACnCc,EAAmBJ,EAAcV,cAAc,oCAC/Ce,EAAQL,EAAcV,cAAc,mBACnBU,EAAcV,cAAc,kBAElCgB,iBAAiB,SAAO,KACnCC,aAAqB,OAAIR,EAAQS,MAGrCL,EAAKM,YAAcV,EAAQI,KAC3BC,EAAiBK,YAAcV,EAAQK,iBACvCC,EAAMK,IAAK,yBAA2BX,EAAQY,MAE9CpB,OAAOqB,YAAYZ,KAI3BP,aAEA,MAAMoB,aAAYnB,MAASoB,IACvB,MAAMC,QAAenB,MAAM,oDAC3B,IAIIoB,SAJmBD,EAAOjB,QAILmB,QAAOC,IAC5B,MAAMC,EAAQ,IAAIC,OAAM,IAAKN,IAAa,MAC1C,OAAOI,EAAUf,KAAKkB,MAAMF,MAI5BG,EAAQ/B,OAAOgC,SACfD,EAEAE,MAAMC,KAAKH,GAASI,SAAQC,IACxBA,EAAIC,YAENC,MAAMC,OAEZ,IAAK,IAAI/B,KAAWiB,EAAS,CAEzB,IAAIhB,EAAgBX,SAASY,WAAWb,IAAIc,SAAS,GAEjDC,EAAOH,EAAcV,cAAc,wBACnCc,EAAmBJ,EAAcV,cAAc,oCAC/Ce,EAAQL,EAAcV,cAAc,mBACnBU,EAAcV,cAAc,kBAGlCgB,iBAAiB,SAAO,KACnCC,aAAqB,OAAIR,EAAQS,MAGrCL,EAAKM,YAAcV,EAAQI,KAC3BC,EAAiBK,YAAcV,EAAQK,iBACvCC,EAAMK,IAAK,yBAA2BX,EAAQY,MAE9CpB,OAAOqB,YAAYZ,KAK3BR,YAAYc,iBAAiB,SAAO,IAAKO,aAAarB,YAAYuC,SAElE,IAAIC,OAAS3C,SAASC,cAAc,sCAAsCgB,iBAAiB,SAAO,KAE9FC,aAAqB,OAAI,EACzB0B,QAAQC,IAAI3B,aAAqB","sources":["src/scripts/script.js"],"sourcesContent":["const tpl = document.querySelector(\"#tplCharacter\");\r\nconst target = document.querySelector(\"#characterList\");\r\nconst searchInput = document.querySelector(\"#searchInput\");\r\n\r\n\r\n\r\nconst fectchData = async () => {\r\n    const response = await fetch(\"https://character-database.becode.xyz/characters\");\r\n\r\n    let responseInJson = await response.json();\r\n    //console.log(responseInJson)\r\n\r\n    for (let element of responseInJson) {\r\n    \r\n        let cloneTemplate = document.importNode(tpl.content, true);\r\n\r\n        let name = cloneTemplate.querySelector(\".cardCharacter__Name\");\r\n        let shortDescription = cloneTemplate.querySelector(\".cardCharacter__shortDescription\");\r\n        let photo = cloneTemplate.querySelector(\"#characterPhoto\");\r\n        let btnSeeCharcter = cloneTemplate.querySelector(\"#see-character\");\r\n\r\n        btnSeeCharcter.addEventListener(\"click\",()=>{\r\n            localStorage[\"stored\"] = element.id;\r\n        })\r\n\r\n        name.textContent = element.name;\r\n        shortDescription.textContent = element.shortDescription;\r\n        photo.src =\"data:image/png;base64,\" + element.image;\r\n\r\n        target.appendChild(cloneTemplate);\r\n    }\r\n}\r\n\r\nfectchData()\r\n\r\nconst searchStates = async searchtext =>{\r\n    const result = await fetch(\"https://character-database.becode.xyz/characters\" );\r\n    let characters = await result.json();\r\n\r\n    \r\n    //Get macthes to current input\r\n    let matches = characters.filter(character=>{\r\n        const regex = new RegExp(`^${searchtext}`,'gi');\r\n        return character.name.match(regex) //|| character.id.match(regex)\r\n    })\r\n    \r\n    //cleaning the list before display the searbar result\r\n    let cardTag=target.children\r\n    if (cardTag){\r\n       \r\n        Array.from(cardTag).forEach(tag => {\r\n            tag.remove()\r\n        });\r\n    }else{alert(error)}\r\n\r\n    for (let element of matches) {\r\n    \r\n        let cloneTemplate = document.importNode(tpl.content, true);\r\n\r\n        let name = cloneTemplate.querySelector(\".cardCharacter__Name\");\r\n        let shortDescription = cloneTemplate.querySelector(\".cardCharacter__shortDescription\");\r\n        let photo = cloneTemplate.querySelector(\"#characterPhoto\");\r\n        let btnSeeCharcter = cloneTemplate.querySelector(\"#see-character\");\r\n\r\n        \r\n        btnSeeCharcter.addEventListener(\"click\",()=>{\r\n            localStorage[\"stored\"] = element.id;\r\n        })\r\n\r\n        name.textContent = element.name;\r\n        shortDescription.textContent = element.shortDescription;\r\n        photo.src =\"data:image/png;base64,\" + element.image;\r\n\r\n        target.appendChild(cloneTemplate);\r\n    }\r\n\r\n}\r\n\r\nsearchInput.addEventListener(\"input\",()=>searchStates(searchInput.value))\r\n\r\nlet addBtn = document.querySelector(\".characterList__containerAddButton\").addEventListener(\"click\",\r\n()=>{\r\n    localStorage[\"stored\"] = 0\r\n    console.log(localStorage[\"stored\"])\r\n})\r\n\r\n\r\n"],"names":["tpl","document","querySelector","target","searchInput","fectchData","async","response","fetch","responseInJson","json","element","cloneTemplate","importNode","content","name","shortDescription","photo","addEventListener","localStorage","id","textContent","src","image","appendChild","searchStates","searchtext","result","matches","filter","character","regex","RegExp","match","cardTag","children","Array","from","forEach","tag","remove","alert","error","value","addBtn","console","log"],"version":3,"file":"index.5cfd0e14.js.map"}